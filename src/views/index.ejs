<%- include("partials/head.ejs") %>
<%- include("partials/nav.ejs") %>
<main>


    <section id="contenedor-productos"></div>
        <% productos.forEach(producto => { %>
            <div class = "card-producto">
                <!-- <img class="producto-img" src="https://image.api.playstation.com/vulcan/img/rnd/202105/1714/WHeOu95nW2SZQy6H5IKgE2Bg.png" alt="<%=producto.nombre%>">  -->
                <img class="producto-img" src="<%= producto.img_url %>" alt="<%=producto.nombre%>">
                <h3><%=producto.nombre%></h3>
                <p>Id: <%=producto.id%></p>
                <p>$<%=producto.precio%></p>
            </div>
        <% }); %>
    </section>
</main>


<script>
/*
let contenedorProductos = document.getElementById("contenedor-productos");
    const url = "http://localhost:3000/api/products"

    async function obtenerProductos() {
        try {
            let respuesta = await fetch(url)
            let data = await respuesta.json();
            console.log(data);
            let productos = data.payload;
            mostrarProductos(productos);
        } catch(error) {
            console.error(error);
        }
                        
    }

    function mostrarProductos(array) {
        console.table(array);
        console.log(array)

        let htmlProducto = "";

        array.forEach(producto => {
            htmlProducto += `
            <div class = "card-producto">
                <img src="${producto.img_url}" alt="${producto.nombre}">
                <h5>${producto.nombre}</h5>
                <p>Id: ${producto.id}</p>
                <p> $${producto.precio}</p>
            </div>`;
            
        });
    console.log(htmlProducto);
    contenedorProductos.innerHTML = htmlProducto;
    }

    function init() {
        obtenerProductos();
    }

    init();
*/
</script>
<%- include("partials/footer.ejs")%>